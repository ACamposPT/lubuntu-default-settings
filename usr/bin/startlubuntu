#!/bin/sh

# Ensure the existance of openbox config file
OPENBOX_CONF_DIR="$XDG_CONFIG_HOME/openbox"
if [ ! -f "$OPENBOX_CONF_DIR/lubuntu-rc.xml" ]; then
    mkdir -p "$OPENBOX_CONF_DIR"
    cp /usr/share/lubuntu/openbox/rc.xml "$OPENBOX_CONF_DIR/lubuntu-rc.xml"
fi

# Install custom QT configuration if no one is already installed
if [ ! -f "$XDG_CONFIG_HOME/Trolltech.conf" ]; then
    cp /usr/share/lubuntu/qt/Trolltech.conf "$XDG_CONFIG_HOME/Trolltech.conf"
fi

# Install custom configuration for leafpad
LEAFPAD_CONF_DIR="$XDG_CONFIG_HOME/leafpad"
if [ ! -f "$LEAFPAD_CONF_DIR/leafpadrc" ]; then
    mkdir -p "$LEAFPAD_CONF_DIR"
    cp /usr/share/lubuntu/leafpad/leafpadrc "$LEAFPAD_CONF_DIR/leafpadrc"
fi

# Install custom configuration for xscreensaver
if [ ! -f "$HOME/.xscreensaver" ]; then
    cp /usr/share/lubuntu/xscreensaver/xscreensaver "$HOME/.xscreensaver"
fi

# Install custom lxterminal configuration if no one is already installed
if [ ! -f "$XDG_CONFIG_HOME/lxterminal/lxterminal.conf" ]; then
    cp /etc/xdg/lubuntu/lxterminal/lxterminal.conf "$XDG_CONFIG_HOME/lxterminal/lxterminal.conf"
fi

# Start the LXDE session
exec /usr/bin/lxsession -s Lubuntu -e LXDE
